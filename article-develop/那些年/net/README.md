## Url页面加载史
把大象装进冰箱总共分几步？白云大妈说了，只需要三步？

那么从输入url到页面加载总共分几步呢？这就是仁者见仁智者见智的答案了

经过收集发现，更多的答案是八步，那么是什么天龙八部呢？我们一起来看看，
1. 从浏览器接收url到开启网络请求线程
    - 浏览器机制和进程与线程的关系
2. 开启网络线程到发一个完整的http请求
    - dns查询，tcp/ip请求，五层因特网协议栈
3. 从服务器接收到请求再到对应的后台接到请求
    - 负载均衡，安全拦截及后台的内部处理
4. 后台和前台的http交互
    - http头部，响应码，报文结构，cookie及优化，gzip压缩
    1. http缓存
        - http缓存头，etag，catch-control
5. 浏览器接收到http数据包后的解析流程
    - 解析html-词法分析然后解析成dom树、解析css生成css规则树、合并成render树，然后layout、painting渲染、复合图层的合成、GPU绘制、外链资源的处理、loaded和domcontentloaded
6. css的可视化格式模型
    - 元素的渲染规则（块，控制框，BFC，IFC）
7. js引擎解析过程
    - js的解析阶段，预处理阶段，执行阶段生成执行上下文，VO，作用域链，回收机制
8. 其他
    - 跨域，web安全

### 从浏览器接收url到开启网络请求线程
#### 多进程的浏览器
#### 多线程的浏览器内核进程
每一个标签页表示一个浏览器内核进程，这个进程当然也是多线程的，它包含了其中5类线程
- GUI线程
- JS引擎线程
- 事件触发线程
- 定时器线程
- 网络请求线程
这下我们可以知道了，JS只是内核进程中的一个线程，所以说JS是单线程的了
#### 说说URL
首先我们来说说URL是由哪些部分来组成的：
- protocol : 协议头，如http,https,ftp等
- host : 主机域名或IP地址
- port : 端口号
- path : 目录路径
- query : 查询字符串，?号后面的，如/s?q=abc&src=srp
- fragment : hash值，#号后面的，如/s?q=abc#page=2
由于网络请求也会单独新增线程，去请求资源，所以也会
### 开启网络线程到发一个完整的http请求



## 这是关于饼干的
- cookie是浏览器的一种本地存储方式，主要用于客户端和服务端进行通信，常用来进行身份校验，结合服务端的session使用
- cookie不允许存放敏感信息（明文密码等），极其的不安全
    - 如果强行的存储，得设置上httponly（防止js来操作cookie干坏事）
    - 还可以考虑一下rsa非对称加密
### 优化
- 在同域名的资源请求时，都会默认带上cookie，这样也会造成浪费降低访问速度
    - 使用多域名拆分来优化
    - 将静态资源分组，放到不同的域名下（如：bdstatic.com）
    - 而www.baidu.com域名下的请求，就不会带上bdstatic.com域名的cookie了，避免了资源浪费
